<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Skills Space</title>
<link rel="stylesheet" href="acheivement.css">
</head>
<body>
<div class="skills-wrapper">
    <button class="home-btn" onclick="window.location.href='/'">â¬… Home</button>
    <div class="stars stars-back"></div>
    <div class="stars stars-mid"></div>
    <div class="stars stars-front"></div>
    <section class="skills-section">
        <div class="skills-container">
            <div id="orbit" class="skills-orbit">
                <div id="sun" class="skill-ball sun" data-name="Python" data-percent="95">
                    <img src="image/profile/python.png" alt="Python">
                </div>
                <div class="skill-ball big" data-name="CICD" data-percent="90">
                    <img src="image/profile/GitHub Actions.png" alt="CICD">
                </div>
                <div class="skill-ball big" data-name="Pip Package" data-percent="85">
                    <img src="image/profile/python.png" alt="Pip Package">
                </div>

                <div class="skill-ball small" data-name="Alexa" data-percent="85">
                    <img src="image/profile/alexa.png" alt="Alexa">
                </div>

                <div class="skill-ball small" data-name="NGINX" data-percent="90">
                    <img src="image/profile/NGINX.png" alt="NGINX">
                </div>
            </div>
            <div id="skillsList" class="skills-list"></div>
        </div>
        <div id="skillTooltip" class="skill-tooltip"></div>
    </section>
</div>

<script>
const orbit = document.getElementById("orbit");
const sun = document.getElementById("sun");
const planets = [...document.querySelectorAll(".skill-ball:not(.sun)")];
const skills = [...document.querySelectorAll(".skill-ball")];
const tooltip = document.getElementById("skillTooltip");
const listContainer = document.getElementById("skillsList");

sun.style.left = "50%";
sun.style.top = "50%";
sun.style.transform = "translate(-50%, -50%)";

const BASE_RADIUS = 150;
const GAP = 60;
const SPEEDS = [0.001, 0.0008, 0.0006, 0.0005];
const RING_COUNT = 3;

const layers = Array.from({ length: RING_COUNT }, () => []);

planets.forEach((p, i) => layers[i % RING_COUNT].push(p));

layers.forEach((layer, ringIndex) => {
    const radius = BASE_RADIUS + ringIndex * GAP;
    const step = (Math.PI * 2) / layer.length;
    const offset = Math.random() * Math.PI * 2;

    layer.forEach((p, i) => {
        p.angle = offset + i * step;
        p.radius = radius;
        p.speed = SPEEDS[ringIndex];
        p.isDragging = false;
        p.currentX = null;
        p.currentY = null;
    });
});

function lerp(a, b, t) { return a + (b - a) * t; }

function animate() {
    layers.forEach(layer => {
        layer.forEach(p => {
            if (!p.isDragging) p.angle += p.speed;

            const targetX = Math.cos(p.angle) * p.radius;
            const targetY = Math.sin(p.angle) * p.radius;

            if (p.currentX === null) p.currentX = targetX;
            if (p.currentY === null) p.currentY = targetY;

            if (!p.isDragging) {
                p.currentX = lerp(p.currentX, targetX, 0.08);
                p.currentY = lerp(p.currentY, targetY, 0.08);

                p.style.left = "50%";
                p.style.top = "50%";
                p.style.transform =
                    `translate(-50%, -50%) translate(${p.currentX}px, ${p.currentY}px)`;
            }
        });
    });
    requestAnimationFrame(animate);
}
animate();

skills.forEach(skill => {
    const item = document.createElement("div");
    item.className = "skill-item";
    item.innerHTML = `
        <h4>${skill.dataset.name}</h4>
        <div class="skill-bar">
            <div class="skill-bar-fill" style="width:${skill.dataset.percent}%"></div>
        </div>
    `;
    listContainer.appendChild(item);
});

skills.forEach(skill => {
    skill.addEventListener("mouseenter", () => {
        tooltip.innerHTML = `<strong>${skill.dataset.name}</strong><br>${skill.dataset.percent}%`;
        tooltip.style.opacity = 1;
    });
    skill.addEventListener("mousemove", e => {
        tooltip.style.left = e.clientX + 15 + "px";
        tooltip.style.top = e.clientY + 15 + "px";
    });
    skill.addEventListener("mouseleave", () => tooltip.style.opacity = 0);
});
</script>

</body>
</html>
