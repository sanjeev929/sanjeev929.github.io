<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sanjeev - Python Developer</title>
    <meta name="google-site-verification" content="8FCLnGsAM6-2KzO3nL0iCMJmNkt_hpNkcfqDH" />
    <link rel="stylesheet" href="index.css">
    <link rel="icon" type="image/png" href="image/profile/logo1.png" sizes="32x32">
</head>
<body>
    
    <header>
        <div class="container">
            <h1>Graphql with FastAPI</h1>
        </div>
    </header>
    <nav>
    <section id="portfolio" class="section">
        <div class="container">
            <div class="portfolio-item">
                <br>
                <div class="video-container">
                    <iframe width="740" height="400" src="https://www.youtube.com/embed/tdiDMKxWmrE?si=ppSUfUEu8atJyVHx" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </div>
                <p>
                    <strong>Setting up FastAPI:</strong><br>
                    FastAPI is a modern, fast (high-performance) web framework for building APIs with Python. In this code, we import the necessary modules from FastAPI, motor, and Ariadne libraries.
                </p>
                
                <p>
                    <strong>Establishing a MongoDB Connection:</strong><br>
                    We connect to a MongoDB database using AsyncIOMotorClient. This client allows us to perform asynchronous operations with MongoDB. We define a database named "graphql" and a collection named "test" to store user data.
                </p>
                
                <p>
                    <strong>Defining FastAPI Endpoints:</strong><br>
                    We define several HTTP endpoints to perform CRUD operations on user data. These include:
                    <ul>
                        <li><strong>POST /users:</strong> Creates a new user in the database.</li>
                        <li><strong>GET /users/{name}:</strong> Retrieves user data by name.</li>
                        <li><strong>PUT /users/{name}:</strong> Updates user data by name.</li>
                        <li><strong>DELETE /users/{name}:</strong> Deletes a user by name.</li>
                    </ul>
                    Error handling is implemented using HTTPException to return appropriate HTTP status codes and error messages.
                </p>
                
                <p>
                    <strong>Setting up GraphQL:</strong><br>
                    We define a GraphQL schema using gql, specifying a Query type with a "users" field. The "users" field allows querying user data, optionally filtered by name.
                    A resolver function, resolve_users, is implemented to fetch user data from MongoDB based on the provided query parameters. 
                    We create an executable schema using make_executable_schema to integrate GraphQL with FastAPI.
                </p>
                
                <p>
                    <strong>Defining Pydantic Models:</strong><br>
                    Pydantic models, UserCreate and UserUpdate, are defined to represent the structure of user data for request payloads. 
                    The User class inherits from UserCreate to maintain type consistency, ensuring that user data conforms to the expected structure.
                </p>
                <p>
                        For a more detailed exploration of the Grapql with fastapi setup, you can refer to the GitHub repository:
                        <a href="https://github.com/sanjeev929/graphqlwithfastapi" target="_blank">GitHub Repository</a>.
                    </p>
                    
            </div>
        </div>
    </section>
</body>
</html>